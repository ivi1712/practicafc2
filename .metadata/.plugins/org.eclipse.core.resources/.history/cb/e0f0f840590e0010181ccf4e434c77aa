/*---------------------------------------------------------------------
**
**  Fichero:
**    fun_asm.asm  01/05/2025
**
**    (c) J.M. Mendias
**    Fundamentos de Computadores II
**    Facultad de Inform치tica. Universidad Complutense de Madrid
**
**  Prop칩sito:
**    Fichero de c칩digo para la pr치ctica 5
**
**-------------------------------------------------------------------*/

.data
.text

.extern _stack

/*
void matrixCopy(int n, int x[n][n], int z[n][n]) {
 for (int i = 0; i < n; i++)
 for (int j = 0; j < n; j++)
 z[i][j] = x[i][j];
}
*/

matrixCopy:
	li t0, 0 // t1 = i

for_f_mc:
	bge t0, a0, end_for_mc
	li t1, 0 // t2 = j
for_s_mc:
	bge t1, a0, end_for_mc
	mul t2, t0, a0 // i * n
    add t2, t2, t1 // i * n + j
    slli t2, t2, 2 // (i * n + j) * 4
    add t3, a2, t2  // z[i][j] adress
    add t4, a1, t2 // x[i][j] adress
    lw t4,0(t4) // valor x[i][j]
    sw t4, 0(t3) // z[i][j] = x[i][j]
    addi t1, t1, 1
    j for_s_mc

end_for_f_mc:



main:
	la sp , _stack
